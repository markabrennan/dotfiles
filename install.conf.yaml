- defaults:
    link:
      relink: true

- clean: ['~']

- create:
    - ~/dotfiles/vim/undo-history
    - ~/dotfiles/vim/plugged
    - ~/dotfiles/vim/autoload
    - ~/dotfiles/vim/colors


- link:
    ~/.vim: vim
    ~/.vimrc: vimrc
    ~/.zshrc: zshrc
    ~/.zprofile: zprofile
    ~/.gitconfig: gitconfig
    ~/.gitignore: gitignore
    ~/.vim/autoload/plug.vim: vim-plug/plug.vim
    ~/.vim/plugged/coc.nvim: coc.nvim
    ~/.vim/colors/PaperColor.vim: papercolor-theme/colors/PaperColor.vim 

- shell:
    - [git submodule update --init --recursive, Installing submodules]
    - command: command -v npm || brew install npm
      stdin: true
      stdout: true
    - cd coc.nvim && npm ci
    - vim -es -u vimrc -i NONE -c "PlugInstall" -c "qa"
    - vim -es -u vimrc -i NONE -c "PlugUpdate" -c "qa"
    - vim -es -u vimrc -i NONE -c "CocInstall coc-pyright" -c "qa"

